\chapter{Introduction}
\label{:intro}

Range searching is one of the common types of problems which arise in everyday computer use. 
In a range search, we are given a set of objects and asked to identify those which satisfy some bounded criteria. 
Range searches can take many different forms: searching for email received between two dates, looking for restaurants near your present location, or identifying what a video game player should see on their screen in any one frame; these are all examples of range searches.

In computational geometry, range searching takes on a more abstract quality. 
Typically we are given an environment containing a set of geometric objects such as points, lines, circles, or boxes. 
A query is itself another well-defined geometric object, and our goal is to identify all elements of the environment contained within the query region.  
When addressing a range searching problem, we want to develop a method for preprocessing the input environment so that we can answer any query as efficiently as possible.
Given how common and flexible range searching is to such a wide range of practical computer science, it is not surprising to  find that a great deal of research has been expended in this area.  

In this thesis, we address the notion of \emph{Partial Enclosure Range Searching}, which, to the best of our knowledge, has not been explored previously. 
In this setting, our goal is to identify, for a given query, all elements which satisfy the \emph{Partial Enclosure Property}. 
This property specifies that an object must intersect a query region by at least some fixed proportion of the object's own size (e.g., length, area, volume) in order to be matched.

In this chapter, Section~\ref{:intro:motivation} begins by describing our motivation for this problem. 
In Section~\ref{:intro:problems} we describe the specific variations of the majority range problem that we will address in this thesis. 
In Section~\ref{:intro:related}, we discuss related problem domains, and contrast them to our own.
Section~\ref{:intro:contributions} outlines the contributions made by this thesis.
We conclude the introduction by outlining the organization of the remainder of the thesis in Section~\ref{:intro:organization}.


%------------------------------------------------------------------------------
%------------------------------------------------------------------------------
\section{Motivation}
\label{:intro:motivation}

The problem was inspired by the author's use of Microsoft OneNote. 
Using a digital pen, OneNote can be used much like a paper notebook, allowing the user to add handwriting, diagrams, equations, and any other such thing to a page.
Unlike a paper notebook, OneNote also allows the user to select previously drawn objects in order to translate, scale, copy and otherwise manipulate them.
Figure~\ref{fig:intro:onenote} shows some handwritten notes, and a diagram which has been partially selected.

\begin{figure}
\begin{center}
  \includegraphics[width=0.50\textwidth]{figures/fig_onenote}
  \caption[An example of practical partial enclosure range searching]{An example of practical partial enclosure range searching in Microsoft OneNote. The line segments in the middle are selected even though they are not entirely enclosed.}
  \label{fig:intro:onenote}
\end{center}
\end{figure}

Looking carefully at the figure, we can see that the even though the horizontal line segments have not been entirely enclosed by the selection tool, they nevertheless appear as part of the set of selected items.
This behaviour of selecting partially enclosed objects is described in a patent filed by Microsoft Corporation\cite{lassoselect} and is intended to ameliorate inherit problems with trying to select irregular shapes with an irregularly shaped selection region. 
From the patent:

\begin{quote}
[T]here is a need for a selection tool that will allow a user to conveniently select one or more graphical objects in their entirety, without requiring an inconvenient amount of precision from the user.
\end{quote}

\noindent Particularly with the rising popularity of touch and pen-enabled devices, this need is likely to increase.  
As we can see from the figure, OneNote already includes an implementation of a partial selection tool like the one described in the patent. 
Although the details of the implementation are proprietary, it becomes apparent while using the software that the implementation suffers from poor performance as more items are selected from denser pages.
It is from this observation that the work in this thesis was inspired.  
Although the problems that we will examine take place in a simpler setting than the patent describes, we will nevertheless develop an understanding of where the major challenges of this problem domain are found, as well as some techniques for addressing them.


%------------------------------------------------------------------------------
%------------------------------------------------------------------------------
\section{Problem Statements}
\label{:intro:problems}

This thesis proposes algorithms for several different partial enclosure range search settings.  Each problem addresses a different type of geometric object to be queried, or a different type of query region.

\paragraph{Line Segments and Rectangles.} Line segments and rectangles are one of the simplest settings in which we can perform partial enclosure range queries. 
Given an axis-parallel rectangle, we address query methods which consider only axis-parallel segments, or which consider arbitrarily-oriented ones.

\paragraph{Line Segments and Slabs.} Relaxing the axis-parallel query regions of the preceding problem, we consider an arbitrarily-oriented slab.
As the slab can have any orientation, intersections with a horizontal segment will involve both the height of the segment and the slope of the slab.  
We also consider a query defined as the intersection of two slabs.

\paragraph{Convex Polygons and Rectangles.} Moving away from line segments, we consider problems of partial area enclosure. 
Starting with convex polygons, we address methods for calculating the area enclosed by a rectangle. 
Once the enclosed area is known, determining the partial enclosure property is straight-forward.
 
\paragraph{Monotone Polygons and Rectangles.} This more complex shape does not generally decompose into big convex regions, so a different method of preprocessing will be needed.
We consider methods for calculating the area of the polygon to one side of a query line. 
With such a method in hand, determining the area of a rectangle is a matter of executing several queries and combining their results.

%------------------------------------------------------------------------------
%------------------------------------------------------------------------------
\section{Related Work}
\label{:intro:related}

We contrast this our problem from traditional range searching, which looks for objects which are entirely within a query region, and from intersection searching, which looks for any objects which have even a minimal intersection with a query region.

\paragraph{Range Searching.} 
XXX TODO

Should explain why this is easier than our problem

\paragraph{Intersection Searching.} 
XXX TODO

Should explain why this is easier than our problem


%------------------------------------------------------------------------------
%------------------------------------------------------------------------------
\section{Summary of Contributions}
\label{:intro:contributions}

XXX TODO  These list the theorems themselves.

Maybe use a table?

We develop several contributions throughout this thesis to answer the partial enclosure range searching problem.  Some of the ancillary methods we develop are noteworthy as well.

In Theorem~\ref{th:convexp:area}, a method for calculating the area of a convex polygon within a rectangle in $\BigOh{\log{n}}$ time with only $\BigOh{n}$ preprocessing time and space. This immediately gives rise to a method to answer partial enclosure queries in the same time and space.

In Theorem~\ref{th:monotonep:rect:area}, a method for calculating the area of a monotone polygon within a rectangle in $\BigOh{\log{n}}$ time with only
$\BigOh{n \log{n}}$ preprocessing time and space. As with the convex polygon case, this immediately gives a method for answering majority enclosure queries in the same time and space.

\begin{table}[t]
\label{tab:contributions}
\caption{Summary of Contributions}
\centering
\begin{tabular}{l l l l l l}
\hline \hline
Object & Query & Theorem & Size & Time & Query \\
\hline
AP Segment & AP Rectangle & Th~\ref{th:ap} & $\BigOh{n\log^3{n}}$ & $\BigOh{n\log^3{n}}$ & $\BigOh{\log^3{n}}$ \\
AO Segment & AP Rectangle & Th~\ref{th:ao} & $\BigOh{n\log^7{n}}$ & $\BigOh{n\log^7{n}}$ & $\BigOh{\sqrt{n}\log^7{n}}$ \\
AP Segment & Slab & Th~\ref{th:slabs:one} & $\BigOh{n\log^2{n}}$ & $\BigOh{n\log^3{n}}$ & $\BigOh{\sqrt{n}\log^3{n}}$ \\
AP Segment & 2 Slabs & Th~\ref{th:slabs:two} & $\BigOh{n\log^3{n}}$ & $\BigOh{n\log^4{n}}$ & $\BigOh{\sqrt{n}\log^4{n}}$ \\
Convex P & Rectangle & Th~\ref{th:convexp:area} & $\BigOh{n}$ & $\BigOh{n}$ & $\BigOh{\log{n}}$ \\
Convex P & Convex $k$-gon & Cor~\ref{cor:convexp:karea} & $\BigOh{n}$ & $\BigOh{n}$ & $\BigOh{k \log{n}}$ \\
Monotone P & AP Rectangle & Th~\ref{th:monotonep:rect:area} & $\BigOh{n\log{n}}$ & $\BigOh{n\log{n}}$ & $\BigOh{k \log{n}}$ \\
Monotone P & AP Rectangle & Th~\ref{th:mono2} & $\BigOh{n}$ & $\BigOh{n\log{n}}$ & $\BigOh{\sqrt{n}}$ \\
Simple P & H Slab & Cor~\ref{cor:monotonep:simplep-area} & $\BigOh{n}$ & $\BigOh{n}$ & $\BigOh{\log{n}}$ \\
\hline
\end{tabular}
\end{table} 


%------------------------------------------------------------------------------
%------------------------------------------------------------------------------
\section{Organization of the Thesis}
\label{:intro:organization}

The remainder of this thesis is organized in the following way. 
Chapter~\ref{:prelim} reviews existing data structures and range searching techniques which we utilize in our own contributions.
The next four chapters cover majority range searching queries on successively more sophisticated geometric objects, with Chapter~\ref{:rectangles} focusing on axis-parallel rectangles, Chapter~\ref{:slabs} on arbitrarily-oriented slabs, Chapter~\ref{:convexp} on convex polygons, and Chapter~\ref{:monotonep} on monotone polygons.
The thesis concludes with Chapter~\ref{:conclusion} which summarizes our contributions and future work presented in earlier chapters.
